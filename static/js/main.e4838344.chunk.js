(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,a){e.exports=a(214)},113:function(e,t,a){},137:function(e,t){},139:function(e,t){},165:function(e,t){},167:function(e,t){},189:function(e,t){},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(99),s=a.n(r),i=(a(113),a(47)),o=a.n(i),l=a(100),m=a(101),h=a(102),u=a(106),f=a(103),d=a(13),p=a(107),v=a(104),w=a.n(v),b=a(105),E=a.n(b),g=function(e,t){var a="";return e>0&&(console.log("old price greater than 0"),a=t>e?"Just went up!":"Just went down!",a="<small>".concat(a+=" Price was previously {oldPrice}","</small>")),a},N=function(e){return e.data.slice(0,3).map((function(e){return c.a.createElement("div",{className:"col-12 col-md-3 news-item text-center card",key:e.guid},c.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:e.enclosure.url,alt:e.title})),c.a.createElement("div",{className:"news-text"},c.a.createElement("p",{className:"font-weight-bold mb-0"},c.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title))))}))},y=(a(212),a(213),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).fetchPrice=function(e){console.log("price fetch");try{w.a.get("https://api.coingecko.com/api/v3/simple/price?ids=".concat(a.state.coin,"&vs_currencies=").concat(a.state.currency)).then((function(e){var t=e.data[a.state.coin][a.state.currency];a.state.oldPrice!==t&&a.setState({oldPrice:a.state.price}),a.setState({price:t,fetchedPrice:!0})})).catch((function(e){console.log(e)}))}catch(t){console.log(t)}},a.fetchNews=function(e){console.log("news fetch");var t="https://cointelegraph.com/rss/tag/".concat(a.state.coin),n=new E.a;Object(l.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.parseURL("https://cors-anywhere.herokuapp.com/"+t);case 2:(c=e.sent).items.forEach((function(e){})),a.setState({feed:c.items,fetchedNews:!0});case 5:case"end":return e.stop()}}),e)})))()},a.state={price:0,oldPrice:0,coin:"ethereum",currency:"usd",feed:[],fetchedNews:!1,fetchedPrice:!1,formValue:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.fetchPrice=a.fetchPrice.bind(Object(d.a)(a)),a.fetchNews=a.fetchNews.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.setState({coin:this.state.value,fetchedPrice:!1}),e.preventDefault()}},{key:"componentDidMount",value:function(){this.fetchPrice(),setInterval(this.fetchPrice,5e3),this.fetchNews(),setInterval(this.fetchNews,5e3)}},{key:"render",value:function(){return c.a.createElement("div",{className:"container text-center"},this.state.fetchedPrice&&this.state.fetchedNews?c.a.createElement("div",{className:"mt-4"},c.a.createElement("div",{className:"row flex-column"},c.a.createElement("div",{className:"col-12 offset-md-3 col-md-6"},c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"form-row justify-content-center mb-3"},c.a.createElement("div",{className:"col-auto"},c.a.createElement("input",{type:"text",className:"p-1 form-control",placeholder:"Name of crypto...",value:this.state.value,onChange:this.handleChange})),c.a.createElement("div",{className:"col-auto"},c.a.createElement("input",{className:"p-1 btn btn-primary",type:"submit",value:"Search"})))),c.a.createElement("h3",{className:"mb-0"},"The current price of ",c.a.createElement("span",{className:"coin"},this.state.coin)," is"),c.a.createElement("h1",{className:"price mt-0"},this.state.price," ",c.a.createElement("span",{className:"currency"},this.state.currency)),c.a.createElement(g,{oldPrice:this.state.oldPrice,newPrice:this.state.newPrice}))),c.a.createElement("div",{className:"row justify-content-center mt-2"},this.state.fetchedNews?c.a.createElement(N,{data:this.state.feed}):c.a.createElement("h4",null,"Loading..."))):c.a.createElement("h4",null,"Loading..."))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[108,1,2]]]);
//# sourceMappingURL=main.e4838344.chunk.js.map